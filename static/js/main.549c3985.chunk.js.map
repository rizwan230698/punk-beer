{"version":3,"sources":["api/beer.js","context/beerProvider.js","components/spinner/style.js","components/spinner/index.js","components/media/index.js","components/beerCard/style.js","components/beerCard/index.js","utils/index.js","components/searchBar/style.js","components/searchBar/index.js","pages/home/style.js","pages/home/index.js","components/Empty/style.js","components/Empty/index.js","pages/favourite/index.js","components/layout/style.js","components/layout/index.js","App.js","index.js"],"names":["axios","create","baseURL","BeerContext","React","createContext","beerReducer","state","action","type","beers","payload","favourites","id","favouriteBeers","filter","beer","BeerProvider","children","useReducer","dispatch","useState","loading","setLoading","hasMore","setHasMore","fetchBeers","a","pageNumber","beersApi","get","response","data","length","Provider","value","addToFavourite","removeFromFavourite","fetchBeersByName","resetBeersState","SpinContainer","Styled","div","Spinner","size","sizes","smalldevice","mobile","tablet","desktop","laptop","media","Object","keys","reduce","queries","key","css","CardX","styled","Card","ImageContainer","Image","img","Content","Title","h3","Description","p","BeerCard","forwardRef","ref","name","description","image_url","useContext","hoverable","src","alt","words","split","newDescription","word","trim","shortDescription","StarFilled","onClick","StarOutlined","Container","InputX","Input","SearchBar","handleInputChange","placeholder","onChange","Home","query","setQuery","setPageNumber","observer","useRef","lastBeerCardRef","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prev","observe","useEffect","cancel","beerApi","cancelToken","CancelToken","c","then","res","catch","e","isCancel","target","gutter","map","i","lg","md","sm","xs","EmptyContainer","Empty","Favourite","Header","Layout","Footer","HeaderX","Logo","Link","OptionLink","ContentX","FooterX","LayoutComponent","to","style","textAlign","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"0TAEeA,MAAMC,OAAO,CAC1BC,QAAS,gCCCEC,EAAcC,IAAMC,gBAE3BC,EAAc,SAACC,EAAOC,GAC1B,OAAQA,EAAOC,MACb,IAAK,cACH,OAAO,eACFF,EADL,CAEEG,MAAM,GAAD,mBAAMH,EAAMG,OAAZ,YAAsBF,EAAOG,YAEtC,IAAK,mBACH,OAAO,eACFJ,EADL,CAEEK,WAAW,eAAML,EAAMK,WAAb,eAA0BJ,EAAOG,QAAQE,IAAK,IACxDC,eAAe,GAAD,mBAAMP,EAAMO,gBAAZ,CAA4BN,EAAOG,YAErD,IAAK,wBACH,OAAO,eACFJ,EADL,CAEEK,WAAW,eAAML,EAAMK,WAAb,eAA0BJ,EAAOG,QAAQE,IAAK,IACxDC,eAAgBP,EAAMO,eAAeC,QACnC,SAACC,GAAD,OAAUA,EAAKH,KAAOL,EAAOG,QAAQE,QAG3C,IAAK,oBACH,OAAO,eACFN,EADL,CAEEG,MAAO,KAEX,QACE,OAAOH,IAIAU,EAAe,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAAe,EAClBC,qBAAWb,EAAa,CAChDM,WAAY,GACZF,MAAO,GACPI,eAAgB,KAJ0B,mBACrCP,EADqC,KAC9Ba,EAD8B,OAMdC,oBAAS,GANK,mBAMrCC,EANqC,KAM5BC,EAN4B,OAOdF,oBAAS,GAPK,mBAOrCG,EAPqC,KAO5BC,EAP4B,KAStCC,EAAU,uCAAG,0CAAAC,EAAA,6DAAOC,EAAP,+BAAoB,EACrCL,GAAW,GADM,SAEMM,EAASC,IAAT,sBACNF,EADM,iBAFN,OAEXG,EAFW,OAMjBN,EAAWM,EAASC,KAAKC,OAAS,GAClCb,EAAS,CAAEX,KAAM,cAAeE,QAASoB,EAASC,OAClDT,GAAW,GARM,2CAAH,qDA0BhB,OACE,kBAACpB,EAAY+B,SAAb,CACEC,MAAO,CACL5B,QACAe,UACAE,UACAC,aACAF,aACAG,aACAU,eAnBiB,SAACpB,GACtBI,EAAS,CAAEX,KAAM,mBAAoBE,QAASK,KAmB1CqB,oBAhBsB,SAACrB,GAC3BI,EAAS,CAAEX,KAAM,wBAAyBE,QAASK,KAgB/CsB,iBA1BmB,SAACN,GACxBZ,EAAS,CAAEX,KAAM,cAAeE,QAASqB,IACzCT,GAAW,IAyBPgB,gBAdkB,kBAAMnB,EAAS,CAAEX,KAAM,yBAiB1CS,I,0MCrFA,IAAMsB,EAAgBC,IAAOC,IAAV,KCQXC,EALC,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OACd,kBAACJ,EAAD,KACE,kBAAC,IAAD,CAAMI,KAAMA,M,uJCLhB,IAAMC,EAAQ,CACZC,YAAa,IACbC,OAAQ,IACRC,OAAQ,IACRC,QAAS,IACTC,OAAQ,MAYKC,EATDC,OAAOC,KAAKR,GAAOS,QAAO,SAACC,EAASC,GAMhD,OALAD,EAAQC,GAAO,kBAAaC,YAAZ,IACOZ,EAAMW,GAAO,GAC9BC,IAAG,WAAH,eAGCF,IACN,I,41DCZI,IAAMG,EAAQC,YAAOC,IAAPD,CAAH,IAYZR,EAAMF,QAZM,KAsBZE,EAAMJ,OAtBM,MAuCLc,EAAiBF,IAAOjB,IAAV,IASvBS,EAAMF,QATiB,KAmBvBE,EAAMJ,OAnBiB,MAyBde,EAAQH,IAAOI,IAAV,KAKLC,EAAUL,IAAOjB,IAAV,KAMPuB,EAAQN,IAAOO,GAAV,KAKLC,EAAcR,IAAOS,EAAV,K,SC7CTC,EA1BEjE,IAAMkE,YAAW,WAAWC,GAAS,IAAjBvD,EAAgB,EAAhBA,KAC3BH,EAAqCG,EAArCH,GAAI2D,EAAiCxD,EAAjCwD,KAAMC,EAA2BzD,EAA3ByD,YAAaC,EAAc1D,EAAd0D,UADoB,EAM/CC,qBAAWxE,GAHJS,EAHwC,EAGjDL,MAASK,WACTwB,EAJiD,EAIjDA,eACAC,EALiD,EAKjDA,oBAGF,OACE,kBAACqB,EAAD,CAAOkB,WAAS,GACd,kBAACf,EAAD,CAAgBU,IAAKA,GACnB,kBAACT,EAAD,CAAOe,IAAKH,EAAWI,IAAKN,KAE9B,kBAACR,EAAD,KACE,kBAACC,EAAD,KAAQO,GACR,kBAACL,EAAD,KC7BwB,SAACM,GAC/B,IAD+C,EACzCM,EAAQN,EAAYO,MAAM,KAC5BC,EAAiB,GAF0B,cAG9BF,GAH8B,IAG/C,2BAAwB,CAAC,IAAhBG,EAAe,QACtB,GAAID,EAAehD,OAASiD,EAAKjD,QAAU,IACzC,MAAM,GAAN,OAAUgD,EAAeE,OAAzB,OAEAF,GAAc,WAAQC,IAPqB,8BAU/C,OAAOD,EAAeE,ODmBFC,CAAiBX,KAE/B7D,EAAWC,GAGX,kBAACwE,EAAA,EAAD,CAAYC,QAAS,kBAAMjD,EAAoBrB,MAF/C,kBAACuE,EAAA,EAAD,CAAcD,QAAS,kBAAMlD,EAAepB,U,siBE3B7C,IAAMwE,GAAY7B,IAAOjB,IAAV,MAMT+C,GAAS9B,YAAO+B,KAAP/B,CAAH,KAGfR,EAAMF,QAHS,MAOfE,EAAMH,OAPS,MAWfG,EAAMJ,OAXS,OCGJ4C,GAVG,SAAC,GAAD,IAAGC,EAAH,EAAGA,kBAAmBzD,EAAtB,EAAsBA,MAAtB,OAChB,kBAACqD,GAAD,KACE,kBAACC,GAAD,CACEI,YAAY,sBACZC,SAAUF,EACVzD,MAAOA,M,sHCPN,IAAMqD,GAAY7B,IAAOjB,IAAV,MCuGPqD,GAxFF,WAAO,IAAD,EACS1E,mBAAS,IADlB,mBACV2E,EADU,KACHC,EADG,OAEmB5E,mBAAS,GAF5B,mBAEVO,EAFU,KAEEsE,EAFF,OAYbvB,qBAAWxE,GARbI,EAJe,EAIfA,MACAe,EALe,EAKfA,QACAE,EANe,EAMfA,QACAC,EAPe,EAOfA,WACAF,EARe,EAQfA,WACAG,EATe,EASfA,WACAY,EAVe,EAUfA,iBACAC,EAXe,EAWfA,gBAGI4D,EAAWC,mBACXC,EAAkBC,uBACtB,SAACC,GACKjF,IACA6E,EAASK,SAASL,EAASK,QAAQC,aACvCN,EAASK,QAAU,IAAIE,sBAAqB,SAACC,GACvCA,EAAQ,GAAGC,gBAAkBpF,GAE/B0E,GAAc,SAACW,GAAD,OAAUA,EAAO,QAG/BN,GAAMJ,EAASK,QAAQM,QAAQP,MAErC,CAACjF,IAsCH,OA/BAyF,qBAAU,WACM,KAAVf,GACFtE,EAAWE,KAEZ,CAACoE,EAAOpE,IAEXmF,qBAAU,WAEN,IAAIC,EADQ,KAAVhB,IAEFzE,GAAW,GACX0F,EACGnF,IADH,sBACsBF,EADtB,kCAC0DoE,GAAS,CAC/DkB,YAAa,IAAIlH,IAAMmH,aAAY,SAACC,GAAD,OAAQJ,EAASI,OAErDC,MAAK,SAACC,GAEL7F,EAAW6F,EAAItF,KAAKC,OAAS,GAC7BK,EAAiBgF,EAAItF,SAEtBuF,OAAM,SAACC,GACFxH,IAAMyH,SAASD,OAGzB,OAAO,kBAAMR,GAAUA,OACtB,CAAChB,EAAOpE,IAEXmF,qBAAU,WAERxE,MACC,CAACyD,IAGF,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAWJ,kBAtCW,SAAC4B,GACzBvB,EAASuB,EAAEE,OAAOvF,OAClB+D,EAAc,IAoCqC/D,MAAO6D,IAChC,IAAvBzF,EAAMG,MAAMuB,OACX,kBAAC,IAAD,CAAK0F,OAAQ,CAAC,GAAI,IAAKlH,KAAK,QACzBF,EAAMG,MAAMkH,KAAI,SAAC5G,EAAM6G,GAAP,OACf,kBAAC,IAAD,CAAKC,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIzE,IAAKxC,EAAKH,IAC3CN,EAAMG,MAAMuB,SAAW4F,EAAI,EAC1B,kBAAC,EAAD,CAAU7G,KAAMA,EAAMuD,IAAK8B,IAE3B,kBAAC,EAAD,CAAUrF,KAAMA,SAMxB,kBAAC,EAAD,CAAS4B,KAAK,UAEftB,GAAkC,IAAvBf,EAAMG,MAAMuB,QAAgB,kBAAC,EAAD,CAASW,KAAK,Y,wLClGrD,IAAMsF,GAAiBvE,IAAOjB,IAAV,MCSZyF,GAND,kBACZ,kBAACD,GAAD,KACE,kBAAC,KAAD,CAAWzD,YAAY,+BCoBZ2D,GApBG,WAAO,IAEZtH,EACP6D,qBAAWxE,GADbI,MAASO,eAGX,OAA8B,IAA1BA,EAAemB,OACV,kBAAC,GAAD,MAIP,kBAAC,IAAD,CAAK0F,OAAQ,CAAC,GAAI,KACf7G,EAAe8G,KAAI,SAAC5G,GAAD,OAClB,kBAAC,IAAD,CAAK8G,GAAI,EAAGC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIzE,IAAKxC,EAAKH,IAC5C,kBAAC,EAAD,CAAUG,KAAMA,U,yvCCdlBqH,GAA4BC,KAA5BD,OAAQrE,GAAoBsE,KAApBtE,QAASuE,GAAWD,KAAXC,OAEZC,GAAU7E,YAAO0E,GAAP1E,CAAH,KAUhBR,EAAMJ,OAVU,OAeP0F,GAAO9E,YAAO+E,IAAP/E,CAAH,KAObR,EAAMJ,OAPO,OAaJ4F,GAAahF,YAAO+E,IAAP/E,CAAH,KAGnBR,EAAMJ,OAHa,OAQV6F,GAAWjF,YAAOK,GAAPL,CAAH,KASjBR,EAAMJ,OATW,OAcR8F,GAAUlF,YAAO4E,GAAP5E,CAAH,MCvCLmF,GAdS,SAAC,GAAD,IAAG5H,EAAH,EAAGA,SAAH,OACtB,kBAAC,KAAD,KACE,kBAACsH,GAAD,KACE,kBAACC,GAAD,CAAMM,GAAG,KAAT,oBACA,kBAACJ,GAAD,CAAYI,GAAG,KAAf,QACA,kBAACJ,GAAD,CAAYI,GAAG,cAAf,cAEF,kBAACH,GAAD,KAAW1H,GACX,kBAAC2H,GAAD,CAASG,MAAO,CAAEC,UAAW,WAA7B,gDCQWC,GAbH,kBACV,kBAAC,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,GAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWtD,KACjC,kBAAC,IAAD,CAAOoD,OAAK,EAACC,KAAK,aAAaC,UAAWjB,UCTpDkB,IAASC,OAAO,kBAAC,GAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.549c3985.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  baseURL: 'https://api.punkapi.com/v2/',\r\n});\r\n","import React, { useReducer, useState } from 'react';\r\n\r\nimport beersApi from '../api/beer';\r\n\r\nexport const BeerContext = React.createContext();\r\n\r\nconst beerReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_BEERS':\r\n      return {\r\n        ...state,\r\n        beers: [...state.beers, ...action.payload],\r\n      };\r\n    case 'ADD_TO_FAVOURITE':\r\n      return {\r\n        ...state,\r\n        favourites: { ...state.favourites, [action.payload.id]: true },\r\n        favouriteBeers: [...state.favouriteBeers, action.payload],\r\n      };\r\n    case 'REMOVE_FROM_FAVOURITE':\r\n      return {\r\n        ...state,\r\n        favourites: { ...state.favourites, [action.payload.id]: false },\r\n        favouriteBeers: state.favouriteBeers.filter(\r\n          (beer) => beer.id !== action.payload.id\r\n        ),\r\n      };\r\n    case 'RESET_BEERS_STATE':\r\n      return {\r\n        ...state,\r\n        beers: [],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const BeerProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(beerReducer, {\r\n    favourites: {},\r\n    beers: [],\r\n    favouriteBeers: [],\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasMore] = useState(false);\r\n\r\n  const fetchBeers = async (pageNumber = 1) => {\r\n    setLoading(true);\r\n    const response = await beersApi.get(\r\n      `/beers?page=${pageNumber}&per_page=20`\r\n    );\r\n    //set hasMore to true if current response array is not empty\r\n    setHasMore(response.data.length > 0);\r\n    dispatch({ type: 'FETCH_BEERS', payload: response.data });\r\n    setLoading(false);\r\n  };\r\n\r\n  const fetchBeersByName = (data) => {\r\n    dispatch({ type: 'FETCH_BEERS', payload: data });\r\n    setLoading(false);\r\n  };\r\n\r\n  const addToFavourite = (beer) => {\r\n    dispatch({ type: 'ADD_TO_FAVOURITE', payload: beer });\r\n  };\r\n\r\n  const removeFromFavourite = (beer) => {\r\n    dispatch({ type: 'REMOVE_FROM_FAVOURITE', payload: beer });\r\n  };\r\n\r\n  const resetBeersState = () => dispatch({ type: 'RESET_BEERS_STATE' });\r\n\r\n  return (\r\n    <BeerContext.Provider\r\n      value={{\r\n        state,\r\n        loading,\r\n        hasMore,\r\n        setHasMore,\r\n        setLoading,\r\n        fetchBeers,\r\n        addToFavourite,\r\n        removeFromFavourite,\r\n        fetchBeersByName,\r\n        resetBeersState,\r\n      }}\r\n    >\r\n      {children}\r\n    </BeerContext.Provider>\r\n  );\r\n};\r\n","import Styled from 'styled-components';\r\n\r\nexport const SpinContainer = Styled.div`\r\n  padding: 80px 0px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n","import React from 'react';\r\nimport { Spin } from 'antd';\r\n\r\nimport { SpinContainer } from './style';\r\n\r\nconst Spinner = ({ size }) => (\r\n  <SpinContainer>\r\n    <Spin size={size} />\r\n  </SpinContainer>\r\n);\r\nexport default Spinner;\r\n","import { css } from 'styled-components';\r\n\r\nconst sizes = {\r\n  smalldevice: 320,\r\n  mobile: 576,\r\n  tablet: 768,\r\n  desktop: 992,\r\n  laptop: 1200,\r\n};\r\n\r\nconst media = Object.keys(sizes).reduce((queries, key) => {\r\n  queries[key] = (...args) => css`\r\n    @media (max-width: ${sizes[key] / 16}em) {\r\n      ${css(...args)}\r\n    }\r\n  `;\r\n  return queries;\r\n}, {});\r\n\r\nexport default media;\r\n","import styled from 'styled-components';\r\nimport { Card } from 'antd';\r\n\r\nimport media from '../media';\r\n\r\nexport const CardX = styled(Card)`\r\n  position: relative;\r\n  height: 100%;\r\n  & > .ant-card-body {\r\n    display: flex;\r\n    padding-top: 34px;\r\n\r\n    @media (max-width: 1070px) {\r\n      flex-direction: column;\r\n      align-items: center;\r\n    }\r\n\r\n    ${media.desktop`\r\n    flex-direction: row;\r\n      align-items: unset;\r\n    `}\r\n\r\n    @media (max-width: 740px) {\r\n      flex-direction: column;\r\n      align-items: center;\r\n    }\r\n\r\n    ${media.mobile`\r\n    flex-direction: row;\r\n      align-items: unset;\r\n    `}\r\n\r\n    & > span {\r\n      position: absolute;\r\n      right: 14px;\r\n      top: 4px;\r\n      font-size: 16px;\r\n      color: #00d1b2;\r\n      cursor: pointer;\r\n      padding: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ImageContainer = styled.div`\r\n  flex: 0 0 35%;\r\n  padding-right: 24px;\r\n\r\n  @media (max-width: 1070px) {\r\n    padding-right: 0px;\r\n    padding-bottom: 24px;\r\n  }\r\n\r\n  ${media.desktop`\r\n  padding-right: 24px;\r\n  padding-bottom: 0px;\r\n  `}\r\n\r\n  @media (max-width: 740px) {\r\n    padding-right: 0px;\r\n    padding-bottom: 24px;\r\n  }\r\n\r\n  ${media.mobile`\r\n  padding-right: 24px;\r\n  padding-bottom: 0px;\r\n  `}\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  height: 240px;\r\n  width: 100px;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const Title = styled.h3`\r\n  font-size: 14.5px;\r\n  font-weight: 500;\r\n  margin-bottom: 8px;\r\n`;\r\nexport const Description = styled.p`\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n`;\r\n","import React, { useContext } from 'react';\r\nimport { StarOutlined, StarFilled } from '@ant-design/icons';\r\n\r\nimport {\r\n  CardX,\r\n  ImageContainer,\r\n  Image,\r\n  Content,\r\n  Title,\r\n  Description,\r\n} from './style';\r\nimport { shortDescription } from '../../utils';\r\nimport { BeerContext } from '../../context/beerProvider';\r\n\r\nconst BeerCard = React.forwardRef(({ beer }, ref) => {\r\n  const { id, name, description, image_url } = beer;\r\n  const {\r\n    state: { favourites },\r\n    addToFavourite,\r\n    removeFromFavourite,\r\n  } = useContext(BeerContext);\r\n\r\n  return (\r\n    <CardX hoverable>\r\n      <ImageContainer ref={ref}>\r\n        <Image src={image_url} alt={name} />\r\n      </ImageContainer>\r\n      <Content>\r\n        <Title>{name}</Title>\r\n        <Description>{shortDescription(description)}</Description>\r\n      </Content>\r\n      {!favourites[id] ? (\r\n        <StarOutlined onClick={() => addToFavourite(beer)} />\r\n      ) : (\r\n        <StarFilled onClick={() => removeFromFavourite(beer)} />\r\n      )}\r\n    </CardX>\r\n  );\r\n});\r\n\r\nexport default BeerCard;\r\n","export const shortDescription = (description) => {\r\n  const words = description.split(' ');\r\n  let newDescription = '';\r\n  for (let word of words) {\r\n    if (newDescription.length + word.length >= 150) {\r\n      return `${newDescription.trim()}...`;\r\n    } else {\r\n      newDescription += ` ${word}`;\r\n    }\r\n  }\r\n  return newDescription.trim();\r\n};\r\n","import styled from 'styled-components';\r\nimport { Input } from 'antd';\r\n\r\nimport media from '../media';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nexport const InputX = styled(Input)`\r\n  flex: 0 0 60%;\r\n\r\n  ${media.desktop`\r\n  flex : 0 0 70%\r\n  `}\r\n\r\n  ${media.tablet`\r\n  flex : 0 0 75%\r\n  `}\r\n\r\n  ${media.mobile`\r\n  flex: 0 0 100%\r\n  `}\r\n`;\r\n","import React from 'react';\r\n\r\nimport { Container, InputX } from './style';\r\n\r\nconst SearchBar = ({ handleInputChange, value }) => (\r\n  <Container>\r\n    <InputX\r\n      placeholder=\"Search beer by name\"\r\n      onChange={handleInputChange}\r\n      value={value}\r\n    />\r\n  </Container>\r\n);\r\n\r\nexport default SearchBar;\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n","import React, {\r\n  useContext,\r\n  useEffect,\r\n  useState,\r\n  useRef,\r\n  useCallback,\r\n} from 'react';\r\nimport { Row, Col } from 'antd';\r\nimport axios from 'axios';\r\n\r\nimport { BeerContext } from '../../context/beerProvider';\r\nimport Spinner from '../../components/spinner';\r\nimport BeerCard from '../../components/beerCard';\r\nimport SearchBar from '../../components/searchBar';\r\nimport beerApi from '../../api/beer';\r\nimport { Container } from './style';\r\n\r\nconst Home = () => {\r\n  const [query, setQuery] = useState('');\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const {\r\n    state,\r\n    loading,\r\n    hasMore,\r\n    setHasMore,\r\n    setLoading,\r\n    fetchBeers,\r\n    fetchBeersByName,\r\n    resetBeersState,\r\n  } = useContext(BeerContext);\r\n\r\n  const observer = useRef();\r\n  const lastBeerCardRef = useCallback(\r\n    (node) => {\r\n      if (loading) return;\r\n      if (observer.current) observer.current.disconnect();\r\n      observer.current = new IntersectionObserver((entries) => {\r\n        if (entries[0].isIntersecting && hasMore) {\r\n          //Only call api if user reached lastBeerCard and hasMore is true(more data to fetch)\r\n          setPageNumber((prev) => prev + 1);\r\n        }\r\n      });\r\n      if (node) observer.current.observe(node);\r\n    },\r\n    [loading]\r\n  );\r\n  const handleInputChange = (e) => {\r\n    setQuery(e.target.value);\r\n    setPageNumber(1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (query === '') {\r\n      fetchBeers(pageNumber);\r\n    }\r\n  }, [query, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (query !== '') {\r\n      var cancel;\r\n      setLoading(true);\r\n      beerApi\r\n        .get(`/beers?page=${pageNumber}&per_page=20&beer_name=${query}`, {\r\n          cancelToken: new axios.CancelToken((c) => (cancel = c)),\r\n        })\r\n        .then((res) => {\r\n          //set hasMore to true if current response array is not empty\r\n          setHasMore(res.data.length > 0);\r\n          fetchBeersByName(res.data);\r\n        })\r\n        .catch((e) => {\r\n          if (axios.isCancel(e)) return;\r\n        });\r\n    }\r\n    return () => cancel && cancel();\r\n  }, [query, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    //set Beers state to [] from every search\r\n    resetBeersState();\r\n  }, [query]);\r\n\r\n  return (\r\n    <Container>\r\n      <SearchBar handleInputChange={handleInputChange} value={query} />\r\n      {state.beers.length !== 0 ? (\r\n        <Row gutter={[16, 16]} type=\"flex\">\r\n          {state.beers.map((beer, i) => (\r\n            <Col lg={8} md={12} sm={12} xs={24} key={beer.id}>\r\n              {state.beers.length === i + 1 ? (\r\n                <BeerCard beer={beer} ref={lastBeerCardRef} />\r\n              ) : (\r\n                <BeerCard beer={beer} />\r\n              )}\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      ) : (\r\n        <Spinner size=\"large\" />\r\n      )}\r\n      {loading && state.beers.length !== 0 && <Spinner size=\"large\" />}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import styled from 'styled-components';\r\n\r\nexport const EmptyContainer = styled.div`\r\n  height: calc(100vh - 187px);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n","import React from 'react';\r\nimport { Empty as AntdEmpty } from 'antd';\r\n\r\nimport { EmptyContainer } from './style';\r\n\r\nconst Empty = () => (\r\n  <EmptyContainer>\r\n    <AntdEmpty description=\"No favourite beer found.\" />\r\n  </EmptyContainer>\r\n);\r\n\r\nexport default Empty;\r\n","import React, { useContext } from 'react';\r\nimport { Row, Col } from 'antd';\r\n\r\nimport { BeerContext } from '../../context/beerProvider';\r\nimport BeerCard from '../../components/beerCard';\r\nimport Empty from '../../components/Empty';\r\n\r\nconst Favourite = () => {\r\n  const {\r\n    state: { favouriteBeers },\r\n  } = useContext(BeerContext);\r\n\r\n  if (favouriteBeers.length === 0) {\r\n    return <Empty />;\r\n  }\r\n\r\n  return (\r\n    <Row gutter={[16, 16]}>\r\n      {favouriteBeers.map((beer) => (\r\n        <Col lg={8} md={12} sm={12} xs={24} key={beer.id}>\r\n          <BeerCard beer={beer} />\r\n        </Col>\r\n      ))}\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default Favourite;\r\n","import styled from 'styled-components';\r\nimport { Layout } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport media from '../media';\r\n\r\nconst { Header, Content, Footer } = Layout;\r\n\r\nexport const HeaderX = styled(Header)`\r\n  background-color: #00d1b2;\r\n  padding: 10px 50px;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  @media (max-width: 1100px) {\r\n    padding: 10px 30px;\r\n  }\r\n\r\n  ${media.mobile`\r\n  padding: 10px 24px;\r\n  `}\r\n`;\r\n\r\nexport const Logo = styled(Link)`\r\n  margin-right: auto;\r\n  margin-bottom: 0;\r\n  color: #fff;\r\n  font-size: 28px;\r\n  font-weight: 300;\r\n\r\n  ${media.mobile`\r\n  font-size: 20px;\r\n  font-weight: 500;\r\n  `}\r\n`;\r\n\r\nexport const OptionLink = styled(Link)`\r\n  padding: 0 10px;\r\n\r\n  ${media.mobile`\r\n  padding: 0 5px;\r\n  `}\r\n`;\r\n\r\nexport const ContentX = styled(Content)`\r\n  background-color: #fff;\r\n  min-height: calc(100vh - 139px);\r\n  padding: 24px 50px;\r\n\r\n  @media (max-width: 1100px) {\r\n    padding: 24px 30px;\r\n  }\r\n\r\n  ${media.mobile`\r\n  padding: 24px;\r\n  `}\r\n`;\r\n\r\nexport const FooterX = styled(Footer)`\r\n  background-color: #fff;\r\n`;\r\n","import React from 'react';\r\nimport { Layout } from 'antd';\r\n\r\nimport { HeaderX, Logo, OptionLink, ContentX, FooterX } from './style';\r\n\r\nconst LayoutComponent = ({ children }) => (\r\n  <Layout>\r\n    <HeaderX>\r\n      <Logo to=\"/\">Beans Love Beers</Logo>\r\n      <OptionLink to=\"/\">Home</OptionLink>\r\n      <OptionLink to=\"/favourite\">Favourite</OptionLink>\r\n    </HeaderX>\r\n    <ContentX>{children}</ContentX>\r\n    <FooterX style={{ textAlign: 'center' }}>\r\n      Punk Beer ©2020 Created by Rizwan Anwar\r\n    </FooterX>\r\n  </Layout>\r\n);\r\n\r\nexport default LayoutComponent;\r\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport { BeerProvider } from './context/beerProvider';\nimport Home from './pages/home';\nimport Favourite from './pages/favourite';\nimport Layout from './components/layout';\n\nconst App = () => (\n  <BeerProvider>\n    <Router>\n      <Layout>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/favourite\" component={Favourite} />\n        </Switch>\n      </Layout>\n    </Router>\n  </BeerProvider>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}