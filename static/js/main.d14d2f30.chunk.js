(this["webpackJsonppunk-beer"]=this["webpackJsonppunk-beer"]||[]).push([[0],{172:function(e,n,t){e.exports=t.p+"static/media/logo.cfc166f6.jpg"},180:function(e,n,t){e.exports=t(297)},185:function(e,n,t){},297:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(6),o=t.n(c),i=(t(185),t(81)),u=t(13),l=t(118),f=t.n(l),s=t(158),p=t(41),b=t(77),d=t(97),m=t(54),v=t(78),g=t.n(v),x=g.a.create({baseURL:"https://api.punkapi.com/v2/"}),h=a.a.createContext(),O=function(e,n){switch(n.type){case"FETCH_BEERS":return Object(m.a)({},e,{beers:[].concat(Object(d.a)(e.beers),Object(d.a)(n.payload))});case"ADD_TO_FAVOURITE":return Object(m.a)({},e,{favourites:Object(m.a)({},e.favourites,Object(b.a)({},n.payload.id,!0)),favouriteBeers:[].concat(Object(d.a)(e.favouriteBeers),[n.payload])});case"REMOVE_FROM_FAVOURITE":return Object(m.a)({},e,{favourites:Object(m.a)({},e.favourites,Object(b.a)({},n.payload.id,!1)),favouriteBeers:e.favouriteBeers.filter((function(e){return e.id!==n.payload.id}))});case"RESET_BEERS_STATE":return Object(m.a)({},e,{beers:[]});default:return e}},j=function(e){var n=e.children,t=Object(r.useReducer)(O,{favourites:{},beers:[],favouriteBeers:[]}),c=Object(p.a)(t,2),o=c[0],i=c[1],u=Object(r.useState)(!1),l=Object(p.a)(u,2),b=l[0],d=l[1],m=Object(r.useState)(!1),v=Object(p.a)(m,2),g=v[0],j=v[1],E=Object(r.useCallback)(Object(s.a)(f.a.mark((function e(){var n,t,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1,d(!0),e.next=4,x.get("/beers?page=".concat(n,"&per_page=15"));case 4:t=e.sent,j(t.data.length>0),i({type:"FETCH_BEERS",payload:t.data}),d(!1);case 8:case"end":return e.stop()}}),e)}))),[]),y=Object(r.useCallback)((function(e){i({type:"FETCH_BEERS",payload:e}),d(!1)}),[]),k=Object(r.useCallback)((function(){return i({type:"RESET_BEERS_STATE"})}),[]);return a.a.createElement(h.Provider,{value:{state:o,loading:b,hasMore:g,setHasMore:j,setLoading:d,fetchBeers:E,addToFavourite:function(e){i({type:"ADD_TO_FAVOURITE",payload:e})},removeFromFavourite:function(e){i({type:"REMOVE_FROM_FAVOURITE",payload:e})},fetchBeersByName:y,resetBeersState:k}},n)},E=t(69),y=t.n(E);t(205);y.a.initializeApp({apiKey:"AIzaSyBnXAaOYioD2t-3hx9LfRZWlyPdRfj5LBI",authDomain:"punk-beer-d4df8.firebaseapp.com",databaseURL:"https://punk-beer-d4df8.firebaseio.com",projectId:"punk-beer-d4df8",storageBucket:"punk-beer-d4df8.appspot.com",messagingSenderId:"1037812390279",appId:"1:1037812390279:web:b078132ec9c8e4fa67db22",measurementId:"G-5E8EWS5F94"});var k=y.a.auth(),w=new y.a.auth.GoogleAuthProvider;w.setCustomParameters({prompt:"select_account"});var C=function(){return y.a.auth().signInWithPopup(w)},S=(y.a,a.a.createContext()),B=function(e){var n=e.children,t=Object(r.useState)(JSON.parse(localStorage.getItem("user"))),c=Object(p.a)(t,2),o=c[0],i=c[1],u=Object(r.useCallback)((function(e){localStorage.setItem("user",JSON.stringify(e)),i(e)}),[]);return a.a.createElement(S.Provider,{value:{currentUser:o,setUser:u,removeUser:function(){localStorage.removeItem("user"),k.signOut()}}},n)},R=t(71),_=t(35),I=t(300),T=t(5),F=t(7);function A(){var e=Object(T.a)(["\n  padding: 80px 0px;\n  padding-top:",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return A=function(){return e},e}var z=F.b.div(A(),(function(e){var n=e.pt;return n?"".concat(n,"px"):"80px"})),U=function(e){var n=e.size,t=e.pt;return a.a.createElement(z,{pt:t},a.a.createElement(I.a,{size:n}))},D=t(305),L=t(306),M=t(301);function P(){var e=Object(T.a)(["\n    @media (max-width: ","em) {\n      ","\n    }\n  "]);return P=function(){return e},e}var H={smalldevice:320,mobile:576,tablet:768,desktop:992,laptop:1200},V=Object.keys(H).reduce((function(e,n){return e[n]=function(){return Object(F.a)(P(),H[n]/16,F.a.apply(void 0,arguments))},e}),{});function N(){var e=Object(T.a)(["\n  font-size: 16px;\n  font-weight: 400;\n"]);return N=function(){return e},e}function J(){var e=Object(T.a)(["\n  font-size: 14.5px;\n  font-weight: 500;\n  margin-bottom: 8px;\n"]);return J=function(){return e},e}function G(){var e=Object(T.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n"]);return G=function(){return e},e}function W(){var e=Object(T.a)(["\n  height: 240px;\n  width: 100px;\n"]);return W=function(){return e},e}function K(){var e=Object(T.a)(["\n  padding-right: 24px;\n  padding-bottom: 0px;\n  "]);return K=function(){return e},e}function X(){var e=Object(T.a)(["\n  padding-right: 24px;\n  padding-bottom: 0px;\n  "]);return X=function(){return e},e}function Y(){var e=Object(T.a)(["\n  flex: 0 0 35%;\n  padding-right: 24px;\n\n  @media (max-width: 1070px) {\n    padding-right: 0px;\n    padding-bottom: 24px;\n  }\n\n  ","\n\n  @media (max-width: 740px) {\n    padding-right: 0px;\n    padding-bottom: 24px;\n  }\n\n  ","\n"]);return Y=function(){return e},e}function Z(){var e=Object(T.a)(["\n    flex-direction: row;\n      align-items: unset;\n    "]);return Z=function(){return e},e}function q(){var e=Object(T.a)(["\n    flex-direction: row;\n      align-items: unset;\n    "]);return q=function(){return e},e}function Q(){var e=Object(T.a)(["\n  position: relative;\n  height: 100%;\n  & > .ant-card-body {\n    display: flex;\n    padding-top: 34px;\n\n    @media (max-width: 1070px) {\n      flex-direction: column;\n      align-items: center;\n    }\n\n    ","\n\n    @media (max-width: 740px) {\n      flex-direction: column;\n      align-items: center;\n    }\n\n    ","\n\n    & > span {\n      position: absolute;\n      right: 14px;\n      top: 4px;\n      font-size: 16px;\n      color: #00d1b2;\n      cursor: pointer;\n      padding: 10px;\n    }\n  }\n"]);return Q=function(){return e},e}var $=Object(F.b)(M.a)(Q(),V.desktop(q()),V.mobile(Z())),ee=F.b.div(Y(),V.desktop(X()),V.mobile(K())),ne=F.b.img(W()),te=F.b.div(G()),re=F.b.h3(J()),ae=F.b.p(N()),ce=t(168),oe=a.a.forwardRef((function(e,n){var t=e.beer,c=t.id,o=t.name,i=t.description,u=t.image_url,l=Object(r.useContext)(h),f=l.state.favourites,s=l.addToFavourite,p=l.removeFromFavourite;return a.a.createElement($,{hoverable:!0},a.a.createElement(ee,{ref:n},a.a.createElement(ne,{src:u,alt:o})),a.a.createElement(te,null,a.a.createElement(re,null,o),a.a.createElement(ae,null,function(e){var n,t=e.split(" "),r="",a=Object(ce.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(r.length+c.length>=150)return"".concat(r.trim(),"...");r+=" ".concat(c)}}catch(o){a.e(o)}finally{a.f()}return r.trim()}(i))),f[c]?a.a.createElement(L.a,{onClick:function(){return p(t)}}):a.a.createElement(D.a,{onClick:function(){return s(t)}}))})),ie=t(303);function ue(){var e=Object(T.a)(["\n  flex: 0 0 100%\n  "]);return ue=function(){return e},e}function le(){var e=Object(T.a)(["\n  flex : 0 0 75%\n  "]);return le=function(){return e},e}function fe(){var e=Object(T.a)(["\n  flex : 0 0 70%\n  "]);return fe=function(){return e},e}function se(){var e=Object(T.a)(["\n  flex: 0 0 60%;\n  \n  &:focus,&:hover{\n    border-color: #00d1b2;\n  }\n  &:focus{\n    box-shadow: 0 0 0 2px rgba(0, 209, 178,.2);\n  }\n  \n  \n  }\n\n  ","\n\n  ","\n\n  ","\n"]);return se=function(){return e},e}function pe(){var e=Object(T.a)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 24px;\n"]);return pe=function(){return e},e}var be=F.b.div(pe()),de=Object(F.b)(ie.a)(se(),V.desktop(fe()),V.tablet(le()),V.mobile(ue())),me=function(e){var n=e.handleInputChange,t=e.value;return a.a.createElement(be,null,a.a.createElement(de,{placeholder:"Search beer by name",onChange:n,value:t}))};function ve(){var e=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return ve=function(){return e},e}var ge=F.b.div(ve()),xe=t(302),he=t(172),Oe=t.n(he);function je(){var e=Object(T.a)(["\n  min-width: 165px;\n  width: auto;\n  height: 40px;\n  letter-spacing: 0.5px;\n  line-height: 40px;\n  padding: 0 30px;\n  font-size: 15px;\n  color: white;\n  text-transform: uppercase;\n  font-weight: bolder;\n  border: none;\n  display: flex;\n  justify-content: center;\n  background-color: #4285f4;\n  color: white;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #3571e8;\n    border: none;\n  }\n  &:focus {\n    border: none;\n    outline: none;\n  }\n"]);return je=function(){return e},e}function Ee(){var e=Object(T.a)(["\n  height: 100px;\n  width: 100px;\n  -weblit-shape-outside: circle(50% at 50% 50%);\n  shape-outside: circle(50% at 50% 50%);\n"]);return Ee=function(){return e},e}function ye(){var e=Object(T.a)(["\n  font-size: 34px;\n  color: #09c3ff;\n  margin-bottom: 0;\n  font-family: 'Dancing Script', cursive;\n  padding: 0 10px;\n"]);return ye=function(){return e},e}function ke(){var e=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 40px;\n"]);return ke=function(){return e},e}function we(){var e=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return we=function(){return e},e}var Ce=F.b.div(we()),Se=F.b.div(ke()),Be=F.b.h1(ye()),Re=F.b.img(Ee()),_e=F.b.button(je()),Ie=function(){var e=Object(r.useContext)(S).currentUser;return a.a.createElement(xe.a,{visible:!e,closable:!1,footer:null},a.a.createElement(Ce,null,a.a.createElement(Se,null,a.a.createElement(Re,{src:Oe.a}),a.a.createElement(Be,null,"Punk Beer")),a.a.createElement(_e,{onClick:C},"Sign in with Google")))},Te=function(){var e=Object(r.useState)(""),n=Object(p.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(1),i=Object(p.a)(o,2),u=i[0],l=i[1],f=Object(r.useContext)(h),s=f.state,b=f.loading,d=f.hasMore,m=f.setHasMore,v=f.setLoading,O=f.fetchBeers,j=f.fetchBeersByName,E=f.resetBeersState,y=Object(r.useContext)(S).setUser,w=Object(r.useRef)(),C=Object(r.useCallback)((function(e){b||(w.current&&w.current.disconnect(),w.current=new IntersectionObserver((function(e){e[0].isIntersecting&&d&&l((function(e){return e+1}))})),e&&w.current.observe(e))}),[b,d]);return Object(r.useEffect)((function(){""===t&&O(u)}),[t,u,O]),Object(r.useEffect)((function(){var e;""!==t&&(v(!0),x.get("/beers?page=".concat(u,"&per_page=15&beer_name=").concat(t),{cancelToken:new g.a.CancelToken((function(n){return e=n}))}).then((function(e){m(e.data.length>0),j(e.data)})).catch((function(e){g.a.isCancel(e)})));return function(){return e&&e()}}),[t,u,v,m,j]),Object(r.useEffect)((function(){E()}),[t,E]),Object(r.useEffect)((function(){k.onAuthStateChanged((function(e){return y(e)}))}),[y]),a.a.createElement(ge,null,a.a.createElement(me,{handleInputChange:function(e){c(e.target.value),l(1)},value:t}),0!==s.beers.length?a.a.createElement(R.a,{gutter:[16,16],type:"flex"},s.beers.map((function(e,n){return a.a.createElement(_.a,{lg:8,md:12,sm:12,xs:24,key:e.id},s.beers.length===n+1?a.a.createElement(oe,{beer:e,ref:C}):a.a.createElement(oe,{beer:e}))}))):a.a.createElement(U,{size:"large"}),b&&0!==s.beers.length&&a.a.createElement(U,{size:"large",pt:15}),a.a.createElement(Ie,null))},Fe=t(70);function Ae(){var e=Object(T.a)(["\n  height: calc(100vh - 204px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Ae=function(){return e},e}var ze=F.b.div(Ae()),Ue=function(){return a.a.createElement(ze,null,a.a.createElement(Fe.a,{description:"No favourite beer found."}))},De=function(){var e=Object(r.useContext)(h).state.favouriteBeers;return 0===e.length?a.a.createElement(Ue,null):a.a.createElement(R.a,{gutter:[16,16]},e.map((function(e){return a.a.createElement(_.a,{lg:8,md:12,sm:12,xs:24,key:e.id},a.a.createElement(oe,{beer:e}))})))},Le=t(304);function Me(){var e=Object(T.a)(["\n  background-color: #fff;\n"]);return Me=function(){return e},e}function Pe(){var e=Object(T.a)(["\n  padding: 24px;\n  "]);return Pe=function(){return e},e}function He(){var e=Object(T.a)(["\n  background-color: #fff;\n  min-height: calc(100vh - 139px);\n  padding: 24px 50px;\n\n  @media (max-width: 1100px) {\n    padding: 24px 30px;\n    min-height: calc(100vh - 156px);\n  }\n\n  ","\n"]);return He=function(){return e},e}function Ve(){var e=Object(T.a)(["\n  padding: 0 4px;\n  "]);return Ve=function(){return e},e}function Ne(){var e=Object(T.a)(["\n  padding: 0 10px;\n  cursor: pointer;\n\n  ","\n"]);return Ne=function(){return e},e}function Je(){var e=Object(T.a)(["\n  font-size: 20px;\n  font-family: 'Dancing Script', cursive;\n  font-weight: 500;\n  "]);return Je=function(){return e},e}function Ge(){var e=Object(T.a)(["\n  margin-right: auto;\n  margin-bottom: 0;\n  color: #fff;\n  font-size: 28px;\n  font-weight: 300;\n\n  ","\n"]);return Ge=function(){return e},e}function We(){var e=Object(T.a)(["\n  padding: 10px 24px;\n  "]);return We=function(){return e},e}function Ke(){var e=Object(T.a)(["\n  background-color: #00d1b2;\n  padding: 10px 50px;\n  display: flex;\n  align-items: center;\n  color: white;\n\n  @media (max-width: 1100px) {\n    padding: 10px 30px;\n  }\n\n  ","\n"]);return Ke=function(){return e},e}var Xe=Le.a.Header,Ye=Le.a.Content,Ze=Le.a.Footer,qe=Object(F.b)(Xe)(Ke(),V.mobile(We())),Qe=Object(F.b)(i.b)(Ge(),V.mobile(Je())),$e=Object(F.b)(i.b)(Ne(),V.mobile(Ve())),en=Object(F.b)(Ye)(He(),V.mobile(Pe())),nn=Object(F.b)(Ze)(Me()),tn=function(e){var n=e.children,t=Object(r.useContext)(S),c=t.currentUser,o=t.removeUser;return a.a.createElement(Le.a,null,a.a.createElement(qe,null,a.a.createElement(Qe,{to:"/"},"Beans Love Beers"),a.a.createElement($e,{to:"/"},"Home"),a.a.createElement($e,{to:"/favourite"},"Favourite"),c&&a.a.createElement($e,{as:"div",onClick:o},"Logout")),a.a.createElement(en,null,n),a.a.createElement(nn,{style:{textAlign:"center"}},"Punk Beer \xa92020 Created by Rizwan Anwar"))},rn=function(){var e=Object(r.useContext)(S).currentUser;return a.a.createElement(j,null,a.a.createElement(i.a,{basename:"".concat("/punk-beer","/")},a.a.createElement(tn,null,a.a.createElement(u.d,null,a.a.createElement(u.b,{exact:!0,path:"/",component:Te}),a.a.createElement(u.b,{exact:!0,path:"/favourite",render:function(){return e?a.a.createElement(De,null):a.a.createElement(u.a,{to:"/"})}})))))},an=function(){return a.a.createElement(B,null,a.a.createElement(rn,null))};o.a.render(a.a.createElement(an,null),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.d14d2f30.chunk.js.map