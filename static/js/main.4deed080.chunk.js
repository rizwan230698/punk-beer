(this["webpackJsonppunk-beer"]=this["webpackJsonppunk-beer"]||[]).push([[0],{172:function(e,n,t){e.exports=t.p+"static/media/logo.7eeef0ca.jpg"},177:function(e,n,t){e.exports=t.p+"static/media/beer.ecd70c19.png"},181:function(e,n,t){e.exports=t(298)},186:function(e,n,t){},298:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(6),o=t.n(c),i=(t(186),t(65)),u=t(13),l=t(118),f=t.n(l),s=t(158),p=t(42),b=t(79),d=t(97),m=t(54),g=t(80),v=t.n(g),x=v.a.create({baseURL:"https://api.punkapi.com/v2/"}),h=a.a.createContext(),O=function(e,n){switch(n.type){case"FETCH_BEERS":return Object(m.a)({},e,{beers:[].concat(Object(d.a)(e.beers),Object(d.a)(n.payload))});case"ADD_TO_FAVOURITE":return Object(m.a)({},e,{favourites:Object(m.a)({},e.favourites,Object(b.a)({},n.payload.id,!0)),favouriteBeers:[].concat(Object(d.a)(e.favouriteBeers),[n.payload])});case"REMOVE_FROM_FAVOURITE":return Object(m.a)({},e,{favourites:Object(m.a)({},e.favourites,Object(b.a)({},n.payload.id,!1)),favouriteBeers:e.favouriteBeers.filter((function(e){return e.id!==n.payload.id}))});case"RESET_BEERS_STATE":return Object(m.a)({},e,{beers:[]});default:return e}},j=function(e){var n=e.children,t=Object(r.useReducer)(O,{favourites:{},beers:[],favouriteBeers:[]}),c=Object(p.a)(t,2),o=c[0],i=c[1],u=Object(r.useState)(!1),l=Object(p.a)(u,2),b=l[0],d=l[1],m=Object(r.useState)(!1),g=Object(p.a)(m,2),v=g[0],j=g[1],E=Object(r.useCallback)(Object(s.a)(f.a.mark((function e(){var n,t,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1,d(!0),e.next=4,x.get("/beers?page=".concat(n,"&per_page=15"));case 4:t=e.sent,j(t.data.length>0),i({type:"FETCH_BEERS",payload:t.data}),d(!1);case 8:case"end":return e.stop()}}),e)}))),[]),y=Object(r.useCallback)((function(e){i({type:"FETCH_BEERS",payload:e}),d(!1)}),[]),k=Object(r.useCallback)((function(){return i({type:"RESET_BEERS_STATE"})}),[]);return a.a.createElement(h.Provider,{value:{state:o,loading:b,hasMore:v,setHasMore:j,setLoading:d,fetchBeers:E,addToFavourite:function(e){i({type:"ADD_TO_FAVOURITE",payload:e})},removeFromFavourite:function(e){i({type:"REMOVE_FROM_FAVOURITE",payload:e})},fetchBeersByName:y,resetBeersState:k}},n)},E=t(71),y=t.n(E);t(206);y.a.initializeApp({apiKey:"AIzaSyBnXAaOYioD2t-3hx9LfRZWlyPdRfj5LBI",authDomain:"punk-beer-d4df8.firebaseapp.com",databaseURL:"https://punk-beer-d4df8.firebaseio.com",projectId:"punk-beer-d4df8",storageBucket:"punk-beer-d4df8.appspot.com",messagingSenderId:"1037812390279",appId:"1:1037812390279:web:b078132ec9c8e4fa67db22",measurementId:"G-5E8EWS5F94"});var k=y.a.auth(),w=new y.a.auth.GoogleAuthProvider;w.setCustomParameters({prompt:"select_account"});var C=function(){return y.a.auth().signInWithPopup(w)},S=(y.a,a.a.createContext()),B=function(e){var n=e.children,t=Object(r.useState)(JSON.parse(localStorage.getItem("user"))),c=Object(p.a)(t,2),o=c[0],i=c[1],u=Object(r.useCallback)((function(e){localStorage.setItem("user",JSON.stringify(e)),i(e)}),[]);return a.a.createElement(S.Provider,{value:{currentUser:o,setUser:u,removeUser:function(){localStorage.removeItem("user"),k.signOut()}}},n)},R=t(73),T=t(35),_=t(301),I=t(4),F=t(7);function z(){var e=Object(I.a)(["\n  padding: 80px 0px;\n  padding-top:",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return z=function(){return e},e}var A=F.b.div(z(),(function(e){var n=e.pt;return n?"".concat(n,"px"):"80px"})),U=function(e){var n=e.size,t=e.pt;return a.a.createElement(A,{pt:t},a.a.createElement(_.a,{size:n}))},D=t(305),L=t(307),M=t(308),P=t(302);function H(){var e=Object(I.a)(["\n    @media (max-width: ","em) {\n      ","\n    }\n  "]);return H=function(){return e},e}var V={smalldevice:320,mobile:576,tablet:768,desktop:992,laptop:1200},N=Object.keys(V).reduce((function(e,n){return e[n]=function(){return Object(F.a)(H(),V[n]/16,F.a.apply(void 0,arguments))},e}),{});function J(){var e=Object(I.a)(["\n  font-size: 16px;\n  font-weight: 400;\n"]);return J=function(){return e},e}function G(){var e=Object(I.a)(["\n  font-size: 14.5px;\n  font-weight: 500;\n  margin-bottom: 8px;\n"]);return G=function(){return e},e}function W(){var e=Object(I.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  user-select: none;\n"]);return W=function(){return e},e}function K(){var e=Object(I.a)(["\n  height: 240px;\n  width: 100px;\n"]);return K=function(){return e},e}function X(){var e=Object(I.a)(["\n  padding-right: 24px;\n  padding-bottom: 0px;\n  "]);return X=function(){return e},e}function Y(){var e=Object(I.a)(["\n  padding-right: 24px;\n  padding-bottom: 0px;\n  "]);return Y=function(){return e},e}function Z(){var e=Object(I.a)(["\n  flex: 0 0 35%;\n  padding-right: 24px;\n\n  @media (max-width: 1070px) {\n    padding-right: 0px;\n    padding-bottom: 24px;\n  }\n\n  ","\n\n  @media (max-width: 740px) {\n    padding-right: 0px;\n    padding-bottom: 24px;\n  }\n\n  ","\n"]);return Z=function(){return e},e}function q(){var e=Object(I.a)(["\n    flex-direction: row;\n      align-items: unset;\n    "]);return q=function(){return e},e}function Q(){var e=Object(I.a)(["\n    flex-direction: row;\n      align-items: unset;\n    "]);return Q=function(){return e},e}function $(){var e=Object(I.a)(["\n  position: relative;\n  height: 100%;\n  & > .ant-card-body {\n    display: flex;\n    padding-top: 34px;\n\n    @media (max-width: 1070px) {\n      flex-direction: column;\n      align-items: center;\n    }\n\n    ","\n\n    @media (max-width: 740px) {\n      flex-direction: column;\n      align-items: center;\n    }\n\n    ","\n\n    & > span {\n      position: absolute;\n      right: 14px;\n      top: 4px;\n      font-size: 16px;\n      color: #00d1b2;\n      cursor: pointer;\n      padding: 10px;\n    }\n  }\n"]);return $=function(){return e},e}var ee=Object(F.b)(P.a)($(),N.desktop(Q()),N.mobile(q())),ne=F.b.div(Z(),N.desktop(Y()),N.mobile(X())),te=F.b.img(K()),re=F.b.div(W()),ae=F.b.h3(G()),ce=F.b.p(J()),oe=t(168),ie=a.a.forwardRef((function(e,n){var t=e.beer,c=t.id,o=t.name,i=t.description,u=t.image_url,l=t.tagline,f=Object(r.useContext)(h),s=f.state.favourites,p=f.addToFavourite,b=f.removeFromFavourite;return a.a.createElement(D.a,{title:l,placement:"bottom",color:"#0D0D0D"},a.a.createElement(ee,{hoverable:!0},a.a.createElement(ne,{ref:n},a.a.createElement(te,{src:u,alt:o})),a.a.createElement(re,null,a.a.createElement(ae,null,o),a.a.createElement(ce,null,function(e){var n,t=e.split(" "),r="",a=Object(oe.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(r.length+c.length>=150)return"".concat(r.trim(),"...");r+=" ".concat(c)}}catch(o){a.e(o)}finally{a.f()}return r.trim()}(i))),s[c]?a.a.createElement(M.a,{onClick:function(){return b(t)}}):a.a.createElement(L.a,{onClick:function(){return p(t)}})))})),ue=t(304);function le(){var e=Object(I.a)(["\n  flex: 0 0 100%\n  "]);return le=function(){return e},e}function fe(){var e=Object(I.a)(["\n  flex : 0 0 75%\n  "]);return fe=function(){return e},e}function se(){var e=Object(I.a)(["\n  flex : 0 0 70%\n  "]);return se=function(){return e},e}function pe(){var e=Object(I.a)(["\n  flex: 0 0 60%;\n  \n  &:focus,&:hover{\n    border-color: #00d1b2;\n  }\n  &:focus{\n    box-shadow: 0 0 0 2px rgba(0, 209, 178,.2);\n  }\n  \n  \n  }\n\n  ","\n\n  ","\n\n  ","\n"]);return pe=function(){return e},e}function be(){var e=Object(I.a)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 24px;\n"]);return be=function(){return e},e}var de=F.b.div(be()),me=Object(F.b)(ue.a)(pe(),N.desktop(se()),N.tablet(fe()),N.mobile(le())),ge=function(e){var n=e.handleInputChange,t=e.value;return a.a.createElement(de,null,a.a.createElement(me,{placeholder:"Search beer by name",onChange:n,value:t}))};function ve(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return ve=function(){return e},e}var xe=F.b.div(ve()),he=t(303),Oe=t(172),je=t.n(Oe);function Ee(){var e=Object(I.a)(["\n  min-width: 165px;\n  width: auto;\n  height: 40px;\n  letter-spacing: 0.5px;\n  line-height: 40px;\n  padding: 0 30px;\n  font-size: 15px;\n  color: white;\n  text-transform: uppercase;\n  font-weight: bolder;\n  border: none;\n  display: flex;\n  justify-content: center;\n  background-color: #4285f4;\n  color: white;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #3571e8;\n    border: none;\n  }\n  &:focus {\n    border: none;\n    outline: none;\n  }\n"]);return Ee=function(){return e},e}function ye(){var e=Object(I.a)(["\n  height: 100px;\n  width: 100px;\n  -weblit-shape-outside: circle(50% at 50% 50%);\n  shape-outside: circle(50% at 50% 50%);\n"]);return ye=function(){return e},e}function ke(){var e=Object(I.a)(["\n  font-size: 34px;\n  color: #09c3ff;\n  margin-bottom: 0;\n  font-family: 'Dancing Script', cursive;\n  padding: 0 10px;\n"]);return ke=function(){return e},e}function we(){var e=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 40px;\n"]);return we=function(){return e},e}function Ce(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return Ce=function(){return e},e}var Se=F.b.div(Ce()),Be=F.b.div(we()),Re=F.b.h1(ke()),Te=F.b.img(ye()),_e=F.b.button(Ee()),Ie=function(){var e=Object(r.useContext)(S).currentUser;return a.a.createElement(he.a,{visible:!e,closable:!1,footer:null},a.a.createElement(Se,null,a.a.createElement(Be,null,a.a.createElement(Te,{src:je.a}),a.a.createElement(Re,null,"Punk Beer")),a.a.createElement(_e,{onClick:C},"Sign in with Google")))},Fe=function(){var e=Object(r.useState)(""),n=Object(p.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(1),i=Object(p.a)(o,2),u=i[0],l=i[1],f=Object(r.useContext)(h),s=f.state,b=f.loading,d=f.hasMore,m=f.setHasMore,g=f.setLoading,O=f.fetchBeers,j=f.fetchBeersByName,E=f.resetBeersState,y=Object(r.useContext)(S).setUser,w=Object(r.useRef)(),C=Object(r.useCallback)((function(e){b||(w.current&&w.current.disconnect(),w.current=new IntersectionObserver((function(e){e[0].isIntersecting&&d&&l((function(e){return e+1}))})),e&&w.current.observe(e))}),[b,d]);return Object(r.useEffect)((function(){""===t&&O(u)}),[t,u,O]),Object(r.useEffect)((function(){var e;""!==t&&(g(!0),x.get("/beers?page=".concat(u,"&per_page=10&beer_name=").concat(t),{cancelToken:new v.a.CancelToken((function(n){return e=n}))}).then((function(e){m(e.data.length>0),j(e.data)})).catch((function(e){v.a.isCancel(e)})));return function(){return e&&e()}}),[t,u,g,m,j]),Object(r.useEffect)((function(){E()}),[t,E]),Object(r.useEffect)((function(){k.onAuthStateChanged((function(e){return y(e)}))}),[y]),a.a.createElement(xe,null,a.a.createElement(ge,{handleInputChange:function(e){c(e.target.value),l(1)},value:t}),0!==s.beers.length?a.a.createElement(R.a,{gutter:[16,16],type:"flex"},s.beers.map((function(e,n){return a.a.createElement(T.a,{lg:8,md:12,sm:12,xs:24,key:e.id},s.beers.length===n+1?a.a.createElement(ie,{beer:e,ref:C}):a.a.createElement(ie,{beer:e}))}))):a.a.createElement(U,{size:"large"}),b&&0!==s.beers.length&&a.a.createElement(U,{size:"large",pt:15}),a.a.createElement(Ie,null))},ze=t(72),Ae=t(177),Ue=t.n(Ae);function De(){var e=Object(I.a)(["\n  height: calc(100vh - 204px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return De=function(){return e},e}var Le=F.b.div(De()),Me=function(){return a.a.createElement(Le,null,a.a.createElement(ze.a,{description:"No favourite beer found.",image:Ue.a}))},Pe=function(){var e=Object(r.useContext)(h).state.favouriteBeers;return 0===e.length?a.a.createElement(Me,null):a.a.createElement(R.a,{gutter:[16,16]},e.map((function(e){return a.a.createElement(T.a,{lg:8,md:12,sm:12,xs:24,key:e.id},a.a.createElement(ie,{beer:e}))})))},He=t(306);function Ve(){var e=Object(I.a)(["\n  background-color: #fff;\n"]);return Ve=function(){return e},e}function Ne(){var e=Object(I.a)(["\n  padding: 24px;\n  "]);return Ne=function(){return e},e}function Je(){var e=Object(I.a)(["\n  background-color: #fff;\n  min-height: calc(100vh - 139px);\n  padding: 24px 50px;\n  z-index: 1;\n\n  @media (max-width: 1100px) {\n    padding: 24px 30px;\n    min-height: calc(100vh - 156px);\n  }\n\n  ","\n"]);return Je=function(){return e},e}function Ge(){var e=Object(I.a)(["\n  padding: 0 4px;\n  "]);return Ge=function(){return e},e}function We(){var e=Object(I.a)(["\n  padding: 0 10px;\n  cursor: pointer;\n\n  ","\n"]);return We=function(){return e},e}function Ke(){var e=Object(I.a)(["\n  font-size: 20px;\n  font-family: 'Dancing Script', cursive;\n  font-weight: 500;\n  "]);return Ke=function(){return e},e}function Xe(){var e=Object(I.a)(["\n  margin-right: auto;\n  margin-bottom: 0;\n  color: #fff;\n  font-size: 28px;\n  font-weight: 300;\n\n  ","\n"]);return Xe=function(){return e},e}function Ye(){var e=Object(I.a)(["\n  padding: 10px 24px;\n  "]);return Ye=function(){return e},e}function Ze(){var e=Object(I.a)(["\n  position: sticky;\n  top: 0;\n  "]);return Ze=function(){return e},e}function qe(){var e=Object(I.a)(["\n  background-color: #00d1b2;\n  padding: 10px 50px;\n  display: flex;\n  align-items: center;\n  color: white;\n  z-index: 10;\n\n  @media (max-width: 1100px) {\n    padding: 10px 30px;\n  }\n\n  ","\n\n  ","\n"]);return qe=function(){return e},e}var Qe=He.a.Header,$e=He.a.Content,en=He.a.Footer,nn=Object(F.b)(Qe)(qe(),N.tablet(Ze()),N.mobile(Ye())),tn=Object(F.b)(i.b)(Xe(),N.mobile(Ke())),rn=Object(F.b)(i.b)(We(),N.mobile(Ge())),an=Object(F.b)($e)(Je(),N.mobile(Ne())),cn=Object(F.b)(en)(Ve()),on=Object(u.g)((function(e){var n=e.children,t=e.history,c=Object(r.useContext)(S),o=c.currentUser,i=c.removeUser;return a.a.createElement(He.a,null,a.a.createElement(nn,null,a.a.createElement(tn,{to:"/"},"Beans Love Beers"),a.a.createElement(rn,{to:"/"},"Home"),a.a.createElement(rn,{as:"div",onClick:function(){t.push("/favourite"),window.scrollTo(0,0)}},"Favourite"),o&&a.a.createElement(rn,{as:"div",onClick:i},"Logout")),a.a.createElement(an,null,n),a.a.createElement(cn,{style:{textAlign:"center"}},"Punk Beer \xa92020 Created by Rizwan Anwar"))})),un=function(){var e=Object(r.useContext)(S).currentUser;return a.a.createElement(j,null,a.a.createElement(i.a,{basename:"".concat("/punk-beer","/")},a.a.createElement(on,null,a.a.createElement(u.d,null,a.a.createElement(u.b,{exact:!0,path:"/",component:Fe}),a.a.createElement(u.b,{exact:!0,path:"/favourite",render:function(){return e?a.a.createElement(Pe,null):a.a.createElement(u.a,{to:"/"})}})))))},ln=function(){return a.a.createElement(B,null,a.a.createElement(un,null))};o.a.render(a.a.createElement(ln,null),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.4deed080.chunk.js.map